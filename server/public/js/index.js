"use strict";function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function _createClass(e,n,t){return n&&_defineProperties(e.prototype,n),t&&_defineProperties(e,t),e}var State=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"set",value:function(e,n){this[e]=n}},{key:"get",value:function(e){return this[e]}}]),e}(),state=new State,socket=io(),form=document.querySelector(".messageForm"),usernameForm=document.querySelector(".usernameForm"),emoticons=[{name:"api",emoticon:"ðŸ’"},{name:"boom",emoticon:"ðŸŒ³"},{name:"zon",emoticon:"â˜€ï¸"},{name:"nederland",emoticon:"ðŸ‡³ðŸ‡±"},{name:"vakantie",emoticon:"ðŸ"},{name:"sneeuw",emoticon:"â„ï¸"},{name:"ijs",emoticon:"ðŸ¦"},{name:"perzik",emoticon:"ðŸ‘"},{name:"banaan",emoticon:"ðŸ"},{name:"love",emoticon:"â¤ï¸"},{name:"auto",emoticon:"ðŸš—"},{name:"vliegtuig",emoticon:"âœˆï¸"},{name:"voetbal",emoticon:"âš½ï¸"},{name:"pizza",emoticon:"ðŸ•"},{name:"banaan",emoticon:"ðŸŒ"},{name:"wintersport",emoticon:"â›· ðŸ‚"},{name:"tennis",emoticon:"ðŸŽ¾"}];form&&(form.addEventListener("submit",function(e){e.preventDefault();var n=document.getElementById("message"),t=state.get("username"),a=state.get("id");n&&n.value&&0<n.value.length&&t&&(socket.emit("chat message",{message:n.value,user:t,id:a}),n.value="")}),socket.on("chat message",function(e){var n=e.user,t=e.id,o=e.message,a=state.get("username"),r=state.get("id");if(!a&&!r)throw new Error("No username found");var s=document.querySelector("#messages");if(s){var i=document.createElement("li"),m=document.createElement("span");m.classList.add("username"),emoticons.forEach(function(e){var n=e.name,t=e.emoticon,a=o.toLowerCase().replace(n,t);o="".concat(a[0].toUpperCase()).concat(a.slice(1))}),"Hoi"===o||"Hee"===o||"Hallo"===o||"Hey"===o||"Heei"===o||"Hello"===o||"Hi"===o?(m.innerText=n,i.innerText=o+" ðŸ˜Š"):(m.innerText=n,i.innerText=o),i.classList.add(n+t===a+r?"self":"other"),i.classList.contains("self")&&(m.style="text-align: right;"),m.appendChild(i),s.appendChild(m)}})),usernameForm&&usernameForm.addEventListener("submit",function(e){e.preventDefault();var n=usernameForm.querySelector(".usernameInput");n&&n.value&&0<n.value.length&&(state.set("id",Math.floor(9999*Math.random())+1),state.set("username",n.value),usernameForm.style="display: none;")});